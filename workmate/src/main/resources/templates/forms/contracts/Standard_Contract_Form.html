
<!-- í˜ì´ì§€ ë¡œë“œì‹œ ëª¨ë‹¬ ìë™ ë„ìš°ê¸° -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var modal = new bootstrap.Modal(document.getElementById('standardContractModal'));
    modal.show();
  });
</script>

<!-- ì´ê±´ ì „ì²´ í˜ì´ì§€ê°€ ì•„ë‹ˆë¼ ëª¨ë‹¬ ì¡°ê°ìœ¼ë¡œ ì‚¬ìš©ë¨ -->
<div class="modal fade" id="standardContractModal" tabindex="-1" aria-labelledby="standardContractLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered modal-scrollable">
    <div class="modal-content shadow border-0">

			<!-- âœ… í‘œì¤€ê·¼ë¡œê³„ì•½ì„œ ëª¨ë‹¬ -->
			<div class="modal fade" id="standardContractModal" tabindex="-1" aria-labelledby="standardContractLabel" aria-hidden="true">
			  <div class="modal-dialog modal-xl modal-dialog-centered modal-scrollable">
			    <div class="modal-content shadow border-0">
			      <div class="modal-header bg-primary text-white">
			        <h5 class="modal-title fw-bold" id="standardContractLabel">ğŸ“„ í‘œì¤€ê·¼ë¡œê³„ì•½ì„œ ì‘ì„±</h5>
			        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="ë‹«ê¸°"></button>
			      </div>
			      <div class="modal-body p-4">
			        <form id="standardContractForm" method="post" action="/contracts/submit" enctype="multipart/form-data">
			          <div class="contract-text" style="line-height: 2; font-size: 16px;">
			            <p>ì£¼ì‹íšŒì‚¬ <input type="text" name="employerName" style="width: 150px;"> (ì´í•˜ â€œì‚¬ì—…ì£¼â€)ì™€</p>
			            <p>ì„±ëª… <input type="text" name="employeeName" style="width: 150px;"> (ì´í•˜ â€œê·¼ë¡œìâ€)ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ê·¼ë¡œê³„ì•½ì„ ì²´ê²°í•œë‹¤.</p>
			
			            <ol>
			              <li>ê³„ì•½ê¸°ê°„: <input type="date" name="startDate"> ~ <input type="date" name="endDate"></li>
			              <li>ê·¼ë¬´ì¥ì†Œ: <input type="text" name="workPlace" style="width: 300px;"></li>
			              <li>ì—…ë¬´ì˜ ë‚´ìš©: <input type="text" name="jobContent" style="width: 300px;"></li>
			              <li>ì†Œì •ê·¼ë¡œì‹œê°„: <input type="text" name="workHours" style="width: 100px;"> / ì¼</li>
			              <li>íœ´ê²Œì‹œê°„: <input type="text" name="breakTime" style="width: 100px;"> / ì¼</li>
			              <li>ì„ê¸ˆ: ì›”ê¸‰ <input type="text" name="monthlySalary" style="width: 100px;"> ì›, ë§¤ì›” <input type="number" name="payDay" style="width: 60px;"> ì¼ ì§€ê¸‰</li>
			              <li>4ëŒ€ë³´í—˜ ê°€ì… ì—¬ë¶€:
			                <span class="ms-2">êµ­ë¯¼ì—°ê¸ˆ <input type="checkbox" name="pensionYn"></span>
			                <span class="ms-2">ê±´ê°•ë³´í—˜ <input type="checkbox" name="healthYn"></span>
			                <span class="ms-2">ê³ ìš©ë³´í—˜ <input type="checkbox" name="employYn"></span>
			                <span class="ms-2">ì‚°ì¬ë³´í—˜ <input type="checkbox" name="industryYn"></span>
			              </li>
			            </ol>
			
			            <p>ìœ„ ê³„ì•½ ë‚´ìš©ì„ í™•ì¸í•˜ê³  ì–‘ ë‹¹ì‚¬ìê°€ ì„œëª…í•¨.</p>
			          </div>
			
			          <div class="mt-4">
			            <table class="table table-bordered">
			              <tr>
			                <th style="width: 20%;">ê·¼ë¡œì ì„±ëª…</th>
			                <td><input type="text" name="employeeNameConfirm" class="form-control"></td>
			                <th style="width: 20%;">ë‚ ì§œ</th>
			                <td><input type="date" name="signDate" class="form-control"></td>
			              </tr>
			              <tr>
			                <th>ì„œëª…</th>
			                <td colspan="3">
			                  <canvas id="signatureCanvas" width="400" height="150"></canvas><br>
			                  <button type="button" class="btn btn-sm btn-secondary mt-2" onclick="clearSignature()">ì„œëª… ì§€ìš°ê¸°</button>
			                  <input type="hidden" name="signImageBase64" id="signImageInput">
			                </td>
			              </tr>
			            </table>
			          </div>
			
			          <div class="d-flex justify-content-end mt-3">
			            <button type="submit" class="btn btn-primary">ğŸ“Œ ì œì¶œ</button>
			          </div>
			        </form>
			      </div>
			    </div>
			  </div>
			</div>
			
		</div>
	</div>
</div>

<!-- âœï¸ Canvas ì„œëª… ìŠ¤í¬ë¦½íŠ¸ -->
<script>
  const canvas = document.getElementById('signatureCanvas');
  const ctx = canvas.getContext('2d');
  let drawing = false;

  canvas.addEventListener('mousedown', () => drawing = true);
  canvas.addEventListener('mouseup', () => {
    drawing = false;
    ctx.beginPath();
  });
  canvas.addEventListener('mousemove', draw);

  function draw(e) {
    if (!drawing) return;
    const rect = canvas.getBoundingClientRect();
    ctx.lineWidth = 2;
    ctx.lineCap = "round";
    ctx.strokeStyle = "#000";
    ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
    ctx.stroke();
    ctx.beginPath();
    ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
  }

  function clearSignature() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
  }

  document.getElementById('standardContractForm').addEventListener('submit', function () {
    const signImageInput = document.getElementById('signImageInput');
    signImageInput.value = canvas.toDataURL('image/png');
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
